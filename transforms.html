<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>🐠 转换</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link type="text/css" rel="stylesheet" href="assets/style.css" />
  <link type="text/css" rel="stylesheet" href="assets/pilcrow.css" />
  <link type="text/css" rel="stylesheet" href="assets/hljs-github.min.css"/>
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-110647385-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-110647385-1');
  </script>
</head>
<body>
  <header>
    <a class="logo" href="/">
      <img class="parcel" src="assets/parcel.png" srcset="assets/parcel@2x.png 2x, assets/parcel@3x.png 3x" height="30">
      <img class="type" src="assets/logo.svg" alt="Parcel">
    </a>
    <div class="links">
      <a href="https://github.com/parcel-bundler/parcel" target="_blank">GitHub</a>
    </div>
  </header>
  <div class="content">
    <nav>
      <ul>
        <li><a href="getting_started.html">🚀 起步</a></li>
        <li><a href="assets.html">📦 资源</a></li>
        <li><a href="transforms.html">🐠 转换</a></li>
        <li><a href="code_splitting.html">✂️ 代码分块</a></li>
        <li><a href="hmr.html">🔥 热更新</a></li>
        <li><a href="production.html">✨ 生产</a></li>
      </ul>
      <h3>进阶</h3>
      <ul>
        <li><a href="how_it_works.html">🛠 如何工作</a></li>
        <li><a href="asset_types.html">📝 资源类型</a></li>
        <li><a href="packagers.html">📦 装包器</a></li>
        <li><a href="plugins.html">🔌 插件</a></li>
      </ul>
    </nav>
    <main><h1 id="🐠-转换"><a class="header-link" href="#🐠-转换"></a>🐠 转换</h1>
<p>尽管许多打包工具要求你安装和配置插件来转换资源，但 Parcel 支持许多常见的语法转换，并内置开箱即用的转换器。你可以使用 <a href="https://babeljs.io">Babel</a> 来转换 JavaScript，使用 <a href="http://postcss.org">PostCSS</a> 处理 CSS 和使用 <a href="https://github.com/posthtml/">PostHTML</a> 处理 HTML。当在项目模块中找到配置文件（例如，<code>.babelrc</code>，<code>.postcssrc</code>），Parcel 则会动启动这些转换器。</p>
<p>这些机制甚至适用在在第三方 <code>node_modules</code>：如果一个配置文件作为包的一部分被发布，转换器将自动为该模块打开。由于只处理需要转换的模块，因此可以快速打包。这也意味着你不需要手动配置转换来包含和排除某些文件，也不需要了解第三方代码如何构建以便在应用程序中使用。</p>
<h2 id="babel"><a class="header-link" href="#babel"></a>Babel</h2>
<p><a href="https://babeljs.io">Babel</a> 是一个非常受欢迎的 JavaScript 转换器，有丰富的插件生态。将 Babel 与 Parcel 一起使用的方式与其他构建工具使用 Babel 的方式相同。</p>
<p>在项目中安装 preset 和一些插件：
（译者：安装 babel-preset-env 会自动安装相关插件）</p>
<pre class="hljs"><code>yarn add babel-preset-env</code></pre><p>然后创建你一个 <code>.babelrc</code> 文件:</p>
<pre class="hljs"><code>{
  <span class="hljs-attr">"presets"</span>: [<span class="hljs-string">"env"</span>]
}</code></pre><h2 id="postcss"><a class="header-link" href="#postcss"></a>PostCSS</h2>
<p><a href="http://postcss.org">PostCSS</a> 是一个用插件转换 CSS 的工具，像 <a href="https://github.com/postcss/autoprefixer">autoprefixer</a>, <a href="http://cssnext.io/">cssnext</a>，和 <a href="https://github.com/css-modules/css-modules">CSS Modules</a>. 你可以通过使用以下名称之一创建配置文件来配置：<code>.postcssrc</code> (JSON),、<code>.postcssrc.js</code>、或 <code>postcss.config.js</code>。</p>
<p>在项目中安装所有插件：</p>
<pre class="hljs"><code>yarn add postcss-modules autoprefixer</code></pre><p>然后创建一个 <code>.postcssrc</code> 文件:</p>
<pre class="hljs"><code>{
  <span class="hljs-attr">"modules"</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">"plugins"</span>: {
    <span class="hljs-attr">"autoprefixer"</span>: {
      <span class="hljs-attr">"grid"</span>: <span class="hljs-literal">true</span>
    }
  }
}</code></pre><p>插件在 <code>plugins</code> 对象以键值指定, 而配置项则使用对象值定义。如果插件没有配置项，只需将其设置为 <code>true</code>。</p>
<p>Autoprefixer，cssnext 和其他工具的目标浏览器可以在 <code>.browserslistrc</code> 文件中指定：</p>
<pre class="hljs"><code>&gt; <span class="hljs-number">1</span>%
last <span class="hljs-number">2</span> versions</code></pre><p>CSS  Module 的启用方式稍有不同，使用顶层的 <code>module</code> 配置。这是因为 Parcel 需要对 CSS Module 提供特殊的支持，因为它们也导出了一个对象，包含在 JavaScript 代码包中。请注意，你仍然需要在您的项目中安装<code>postcss-modules</code>。</p>
<h2 id="posthtml"><a class="header-link" href="#posthtml"></a>PostHTML</h2>
<p><a href="https://github.com/posthtml/posthtml">PostHTML</a> 是一个用插件转换 HTML 的工具。你可以使用以下名称之一创建配置文件: <code>.posthtmlrc</code> (JSON), <code>posthtmlrc.js</code>, or <code>posthtml.config.js</code>.</p>
<p>在项目中安装插件：</p>
<pre class="hljs"><code>yarn add posthtml-img-autosize</code></pre><p>然后创建一个 <code>.posthtmlrc</code> 文件：</p>
<pre class="hljs"><code>{
  <span class="hljs-attr">"plugins"</span>: {
    <span class="hljs-attr">"posthtml-img-autosize"</span>: {
      <span class="hljs-attr">"root"</span>: <span class="hljs-string">"./images"</span>
    }
  }
}</code></pre><p>插件在 <code>plugins</code> 对象以键值指定，而配置项则使用对象值定义。如果插件没有选项，只需将其设置为 <code>true</code>。</p>
    </main>
  </div>
  <script>
    (function () {
      var activeLink = Array.from(document.querySelectorAll('nav a')).find(function (a) {
        return a.href === window.location.href;
      });

      activeLink.classList.add('selected');
    })();
  </script>
</body>
</html>
