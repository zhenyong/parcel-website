<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ğŸ“¦ è£…åŒ…å™¨ï¼ˆPackagersï¼‰</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link type="text/css" rel="stylesheet" href="assets/style.css" />
  <link type="text/css" rel="stylesheet" href="assets/pilcrow.css" />
  <link type="text/css" rel="stylesheet" href="assets/hljs-github.min.css"/>
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-110647385-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-110647385-1');
  </script>
</head>
<body>
  <header>
    <a class="logo" href="/">
      <img class="parcel" src="assets/parcel.png" srcset="assets/parcel@2x.png 2x, assets/parcel@3x.png 3x" height="30">
      <img class="type" src="assets/logo.svg" alt="Parcel">
    </a>
    <div class="links">
      <a href="https://github.com/parcel-bundler/parcel" target="_blank">GitHub</a>
    </div>
  </header>
  <div class="content">
    <nav>
      <ul>
        <li><a href="getting_started.html">ğŸš€ èµ·æ­¥</a></li>
        <li><a href="assets.html">ğŸ“¦ èµ„æº</a></li>
        <li><a href="transforms.html">ğŸ  è½¬æ¢</a></li>
        <li><a href="code_splitting.html">âœ‚ï¸ ä»£ç åˆ†å—</a></li>
        <li><a href="hmr.html">ğŸ”¥ çƒ­æ›´æ–°</a></li>
        <li><a href="production.html">âœ¨ ç”Ÿäº§</a></li>
      </ul>
      <h3>è¿›é˜¶</h3>
      <ul>
        <li><a href="how_it_works.html">ğŸ›  å¦‚ä½•å·¥ä½œ</a></li>
        <li><a href="asset_types.html">ğŸ“ èµ„æºç±»å‹</a></li>
        <li><a href="packagers.html">ğŸ“¦ è£…åŒ…å™¨</a></li>
        <li><a href="plugins.html">ğŸ”Œ æ’ä»¶</a></li>
      </ul>
    </nav>
    <main><h1 id="ğŸ“¦-è£…åŒ…å™¨ï¼ˆpackagersï¼‰"><a class="header-link" href="#ğŸ“¦-è£…åŒ…å™¨ï¼ˆpackagersï¼‰"></a>ğŸ“¦ è£…åŒ…å™¨ï¼ˆPackagersï¼‰</h1>
<p>åœ¨ Parcel ä¸»æµç¨‹ä¸­ï¼Œå½“æ‰€æœ‰èµ„æºå¤„ç†å¹¶ç”Ÿæˆ bunlde æ ‘ååï¼Œ<code>è£…åŒ…å™¨</code> å°†å¤šä¸ª <code>èµ„æº</code> åˆå¹¶æˆæœ€ç»ˆè¾“å‡ºä»£ç åŒ…ã€‚è£…åŒ…å™¨æ˜¯æ ¹æ®è¾“å‡ºæ–‡ä»¶ç±»å‹è¿›è¡Œæ³¨å†Œçš„ï¼Œå¯¹åº”è¯¥è¾“å‡ºç±»å‹çš„èµ„æºä¼šè¢«å‘é€åˆ°è£…åŒ…å™¨ç”¨äºç”Ÿæˆæœ€ç»ˆçš„è¾“å‡ºæ–‡ä»¶ã€‚</p>
<h2 id="è£…åŒ…å™¨æ¥å£"><a class="header-link" href="#è£…åŒ…å™¨æ¥å£"></a>è£…åŒ…å™¨æ¥å£</h2>
<pre class="hljs"><code><span class="hljs-keyword">const</span> {Packager} = <span class="hljs-built_in">require</span>(<span class="hljs-string">'parcel-bundler'</span>);

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyPackager</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Packager</span> </span>{
  <span class="hljs-keyword">async</span> start() {
    <span class="hljs-comment">// å¯é€‰ï¼Œå†™æ–‡ä»¶çš„å¤´éƒ¨å†…å®¹ã€‚</span>
    <span class="hljs-keyword">await</span> <span class="hljs-keyword">this</span>.dest.write(header);
  }

  <span class="hljs-keyword">async</span> addAsset(asset) {
    <span class="hljs-comment">// å¿…è¦ï¼Œ æŠŠèµ„æºè¾“å‡ºåˆ°æ–‡ä»¶ã€‚</span>
    <span class="hljs-keyword">await</span> <span class="hljs-keyword">this</span>.dest.write(asset.generated.foo);
  }

  <span class="hljs-keyword">async</span> end() {
    <span class="hljs-comment">// å¯é€‰ï¼Œå†™æ–‡ä»¶å°¾éƒ¨å†…å®¹ã€‚</span>
    <span class="hljs-keyword">await</span> <span class="hljs-keyword">this</span>.dest.end(trailer);
  }
}</code></pre><h2 id="æ³¨å†Œä¸€ä¸ªè£…åŒ…å™¨"><a class="header-link" href="#æ³¨å†Œä¸€ä¸ªè£…åŒ…å™¨"></a>æ³¨å†Œä¸€ä¸ªè£…åŒ…å™¨</h2>
<p>ä½ å¯ä»¥é€šè¿‡ Bundler å¯¹è±¡ï¼Œä½¿ç”¨ <code>addPackager</code> æ–¹æ³•æ³¨å†Œè£…åŒ…å™¨ å®ƒæ¥æ”¶å‚æ•°ä¸ºæ³¨å†Œçš„æ–‡ä»¶ç±»å‹ä»¥åŠè£…åŒ…å™¨æ¨¡å—çš„æ–‡ä»¶è·¯å¾„ã€‚</p>
<pre class="hljs"><code><span class="hljs-keyword">const</span> Bundler = <span class="hljs-built_in">require</span>(<span class="hljs-string">'parcel-bundler'</span>);

<span class="hljs-keyword">let</span> bundler = <span class="hljs-keyword">new</span> Bundler(<span class="hljs-string">'input.js'</span>);
bundler.addPackager(<span class="hljs-string">'foo'</span>, <span class="hljs-built_in">require</span>.resolve(<span class="hljs-string">'./MyPackager'</span>));</code></pre>    </main>
  </div>
  <script>
    (function () {
      var activeLink = Array.from(document.querySelectorAll('nav a')).find(function (a) {
        return a.href === window.location.href;
      });

      activeLink.classList.add('selected');
    })();
  </script>
</body>
</html>
